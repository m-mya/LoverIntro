<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Intro Review</title>
  <link href="https://fonts.cdnfonts.com/css/cocogoose" rel="stylesheet">
  <style>
    /* Your existing styles (unchanged) */
  </style>
</head>
<body>
  <h1>Intro Review</h1>
  <div class="container">
    <textarea id="intro-input" placeholder="Paste your intro script or details here..."></textarea>
    <table>
      <!-- Your table content (unchanged) -->
    </table>
    <div class="score-summary">
      <h2>Total Score</h2>
      <p id="total-score">0</p>
      <p id="approval-status"></p>
    </div>
    <button class="button" onclick="calculateTotalScore()">Calculate Total Score</button>
    <div class="recommendations">
      <h2>AI Recommendations</h2>
      <p id="ai-recommendations">Recommendations will appear here.</p>
    </div>
    <button class="button" onclick="exportReport()">Export Report</button>
    <button class="button" onclick="resetReport()">Reset</button>
  </div>
  <script>
    // Add click event listeners to score cells
    const scoreCells = document.querySelectorAll('.score-cell');
    scoreCells.forEach(cell => {
      cell.addEventListener('click', () => {
        // Remove selected class from all cells in the same row
        const row = cell.parentElement;
        row.querySelectorAll('.score-cell').forEach(c => c.classList.remove('selected'));
        // Add selected class to the clicked cell
        cell.classList.add('selected');
        // Update the total score display
        calculateTotalScore();
      });
    });

    // Calculate total score
    function calculateTotalScore() {
      const selectedCells = document.querySelectorAll('.score-cell.selected');
      let totalScore = 0;
      selectedCells.forEach(cell => {
        totalScore += parseInt(cell.getAttribute('data-score')) || 0;
      });
      document.getElementById('total-score').textContent = totalScore;
      const status = totalScore >= 35 ? "Approved" : "Not Approved";
      document.getElementById('approval-status').textContent = `Status: ${status}`;
      
      // Generate AI recommendations
      generateRecommendations(totalScore);
    }

    // Generate AI Recommendations
    function generateRecommendations(totalScore) {
      const introText = document.getElementById('intro-input').value.trim();
      const recommendations = [];
      
      if (introText.length < 50) {
        recommendations.push("Your intro is too short. Consider adding more details to hook the audience.");
      } else if (introText.length > 200) {
        recommendations.push("Your intro is a bit lengthy. Try to make it more concise to retain viewer interest.");
      } else {
        recommendations.push("The length of your intro looks great! Focus on keeping it engaging.");
      }

      if (totalScore < 20) {
        recommendations.push("Focus on improving pacing and conflict to make the intro more dynamic.");
      } else if (totalScore < 35) {
        recommendations.push("Youâ€™re on the right track! Refine your visuals and stakes for more impact.");
      } else {
        recommendations.push("Great work! Your intro is well-structured and engaging. Keep up the good work!");
      }

      // Update recommendations in the DOM
      document.getElementById('ai-recommendations').innerText = recommendations.join(" ");
    }

    // Reset the report
    function resetReport() {
      const scoreCells = document.querySelectorAll('.score-cell');
      scoreCells.forEach(cell => {
        cell.classList.remove('selected');
      });
      document.getElementById('total-score').textContent = 0;
      document.getElementById('approval-status').textContent = "";
      document.getElementById('ai-recommendations').innerText = "Recommendations will appear here.";
      document.getElementById('intro-input').value = "";
    }

    // Export functionality (placeholder)
    function exportReport() {
      alert("Export functionality will be implemented here.");
    }
  </script>
</body>
</html>
